<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Karl Heinz Marbaise">
<title>The Maven Practical Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>The Maven Practical Guide</h1>
<div class="details">
<span id="author" class="author">Karl Heinz Marbaise</span><br>
<span id="email" class="email"><a href="mailto:the-maven-practical-guide@maven-practical-guide.io">the-maven-practical-guide@maven-practical-guide.io</a></span><br>
<span id="revnumber">version 0.1.0-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_this_is_work_in_progress">THIS IS WORK IN PROGRESS</a></li>
<li><a href="#_the_basics">The Basics</a>
<ul class="sectlevel1">
<li><a href="#_the_build_life_cycle">1. The build life cycle</a></li>
</ul>
</li>
<li><a href="#_single_module_projects">Single Module Projects</a>
<ul class="sectlevel1">
<li><a href="#_overview">2. Overview</a>
<ul class="sectlevel2">
<li><a href="#_directory_structure">2.1. Directory Structure</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_parent">Parent</a>
<ul class="sectlevel1">
<li><a href="#_overview_2">3. Overview</a></li>
</ul>
</li>
<li><a href="#_multi_module_builds">Multi Module Builds</a>
<ul class="sectlevel1">
<li><a href="#_overview_3">4. Overview</a>
<ul class="sectlevel2">
<li><a href="#_basic_structure">4.1. Basic Structure</a></li>
<li><a href="#_releasing_a_multi_module_project">4.2. Releasing a Multi module Project</a></li>
<li><a href="#_examples">4.3. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_testing_with_maven">Testing with Maven</a>
<ul class="sectlevel1">
<li><a href="#_overview_4">5. Overview</a>
<ul class="sectlevel2">
<li><a href="#_unit_testing">5.1. Unit Testing</a></li>
<li><a href="#_integration_testing">5.2. Integration Testing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_maven_assemblies">Maven Assemblies</a>
<ul class="sectlevel1">
<li><a href="#_overview_5">6. Overview</a></li>
<li><a href="#_the_maven_assembly_plugin">7. The Maven Assembly Plugin</a>
<ul class="sectlevel2">
<li><a href="#_single_executable_artifact">7.1. Single Executable Artifact</a></li>
<li><a href="#_creating_an_zip_archive">7.2. Creating an ZIP Archive</a></li>
<li><a href="#_default_assemblies">7.3. Default Assemblies</a></li>
<li><a href="#_predefined_descriptors">7.4. Predefined Descriptors</a></li>
<li><a href="#_module_sets">7.5. Module Sets</a></li>
<li><a href="#_dependency_sets">7.6. Dependency Sets</a></li>
<li><a href="#_sources">7.7. Sources</a></li>
<li><a href="#_predefined_descriptors_2">7.8. Predefined Descriptors</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_plugins">Plugins</a>
<ul class="sectlevel1">
<li><a href="#_overview_6">8. Overview</a>
<ul class="sectlevel2">
<li><a href="#_the_plugin_sources">8.1. The Plugin Sources</a></li>
</ul>
</li>
<li><a href="#_the_different_plugins">9. The Different Plugins</a>
<ul class="sectlevel2">
<li><a href="#_clean_everything">9.1. Clean Everything</a></li>
<li><a href="#_resources">9.2. Resources</a></li>
<li><a href="#_let_the_source_be_with_you">9.3. Let The Source Be With You</a></li>
<li><a href="#_lets_see_if_the_code_is_working">9.4. Let&#8217;s See If The Code Is Working?</a></li>
<li><a href="#_let_the_jars_come_to_me">9.5. Let The Jar&#8217;s Come To Me</a></li>
<li><a href="#_install_the_archive">9.6. Install The Archive</a></li>
<li><a href="#_distribute_it_to_the_world">9.7. Distribute It To The World</a></li>
<li><a href="#_let_the_force_be_with_you">9.8. Let The Force Be With You</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_making_releases">Making Releases</a>
<ul class="sectlevel1">
<li><a href="#_overview_7">10. Overview</a></li>
<li><a href="#_the_traditional_maven_way">11. The Traditional Maven Way</a></li>
<li><a href="#_releases_the_cd_way">12. Releases The CD Way</a></li>
</ul>
</li>
<li><a href="#_continious_integration_solution">Continious Integration Solution</a>
<ul class="sectlevel1">
<li><a href="#_more_details">13. More Details</a></li>
</ul>
</li>
<li><a href="#_build_smells">Build Smells</a>
<ul class="sectlevel1">
<li><a href="#_creating_multiple_artifacts">14. Creating Multiple Artifacts</a></li>
<li><a href="#_not_part_of_the_life_cycle">15. Not Part of the Life Cycle</a></li>
<li><a href="#_multi_module_builds_2">16. Multi Module Builds</a>
<ul class="sectlevel2">
<li><a href="#_module_structure">16.1. Module Structure</a></li>
<li><a href="#_the_install_hack">16.2. The Install Hack</a></li>
<li><a href="#_separation_of_concerns">16.3. Separation of Concerns</a></li>
</ul>
</li>
<li><a href="#_testing">17. Testing</a></li>
<li><a href="#_assemblies">18. Assemblies</a></li>
<li><a href="#_problem_with_profiles_and_dependencies">19. Problem with Profiles and Dependencies</a></li>
<li><a href="#_what_about_dependencies_by_profiles">20. What about dependencies by profiles?</a></li>
</ul>
</li>
<li><a href="#_plugin_development">Plugin Development</a>
<ul class="sectlevel1">
<li><a href="#_overview_8">21. Overview</a>
<ul class="sectlevel2">
<li><a href="#_reasons">21.1. Reasons</a></li>
<li><a href="#_basics">21.2. Basics</a></li>
<li><a href="#_building_a_plugin">21.3. Building a plugin</a></li>
<li><a href="#_testing_2">21.4. Testing</a></li>
<li><a href="#_compatibility">21.5. Compatibility</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_performance_tipps">Performance tipps</a>
<ul class="sectlevel1">
<li><a href="#_incremental_builds">22. Incremental Builds</a></li>
</ul>
</li>
<li><a href="#_repository_manager">Repository Manager</a>
<ul class="sectlevel1">
<li><a href="#_overview_9">23. Overview</a></li>
<li><a href="#_test">24. Test</a></li>
</ul>
</li>
<li><a href="#_best_practices">Best Practices</a>
<ul class="sectlevel1">
<li><a href="#_directory_layout">25. Directory Layout</a></li>
<li><a href="#_plugin_management">26. Plugin Management</a></li>
<li><a href="#_generate_into_source_folder">27. Generate Into Source Folder</a></li>
<li><a href="#_dependencies_dependencymanagement">28. Dependencies / DependencyManagement</a></li>
<li><a href="#_deps_via_props">29. Deps via Props</a></li>
<li><a href="#_company_wide_parents">30. Company wide parent(s)</a></li>
<li><a href="#_building_for_different_environments">31. Building for different Environments</a></li>
<li><a href="#_how_to_do_good_integration_tests_for_maven_plugins">32. How to do good integration tests for maven plugins</a></li>
<li><a href="#_nexus">33. Nexus</a></li>
<li><a href="#_branching_strategies">34. Branching Strategies</a></li>
</ul>
</li>
<li><a href="#_exceptions_from_best_practices">Exceptions from Best Practices</a>
<ul class="sectlevel1">
<li><a href="#_layout">35. Layout</a></li>
</ul>
</li>
<li><a href="#_the_sites">The Sites</a>
<ul class="sectlevel1">
<li><a href="#_maven_site_plugin">36. Maven Site Plugin</a></li>
<li><a href="#_profiles_in_maven">37. Profiles in Maven</a></li>
</ul>
</li>
<li><a href="#_different_environments">Different Environments</a>
<ul class="sectlevel1">
<li><a href="#_overview_10">38. Overview</a>
<ul class="sectlevel2">
<li><a href="#_the_solutions">38.1. The Solutions</a></li>
<li><a href="#_the_obvious_solution">38.2. The Obvious Solution</a></li>
<li><a href="#_the_next">38.3. The next</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_example_appendix">Example Appendix</a>
<ul class="sectlevel1">
<li><a href="#_appendix_sub_section">Appendix Sub-section</a></li>
<li><a href="#_example_glossary">Example Glossary</a></li>
<li><a href="#_example_colophon">Example Colophon</a></li>
</ul>
</li>
<li><a href="#_example_bibliography">Example Bibliography</a>
<ul class="sectlevel1">
<li><a href="#_example_index">Example Index</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_this_is_work_in_progress"><a class="link" href="#_this_is_work_in_progress">THIS IS WORK IN PROGRESS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide is an attempt to write a practical guide about Apache Maven.
Its idea is to give practical hints how to use Apache Maven and describe
and show what are the best practices and why you should follow them.</p>
</div>
<div class="paragraph">
<p>If you have any suggestions, improvements or found issues please
report them in the <a href="https://github.com/khmarbaise/the-maven-practical-guide/issues">issue tracking system</a>.</p>
</div>
<div class="paragraph">
<p>This is also in its early stage so a large number of areas are
just a containing a couple of sentences or even only a couple
of words (a kind of reminder on my own) etc.</p>
</div>
</div>
</div>
<h1 id="_the_basics" class="sect0"><a class="link" href="#_the_basics">The Basics</a></h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Let us start with a minimal <code>pom</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  <span class="comment">&lt;!-- NEED TO REMOVE THE PARENT --&gt;</span>
  <span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.soebes.tmpg.examples.basics<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>basics-aggregator<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;/parent&gt;</span>

  <span class="tag">&lt;groupId&gt;</span>com.soebes.tmpg.examples.basics<span class="tag">&lt;/groupId&gt;</span>          &lt;!--<b class="conum">(1)</b>--&gt;
  <span class="tag">&lt;artifactId&gt;</span>simplest-pom<span class="tag">&lt;/artifactId&gt;</span>                       &lt;!--<b class="conum">(2)</b>--&gt;
  <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>                           &lt;!--<b class="conum">(3)</b>--&gt;

  <span class="tag">&lt;name&gt;</span>TMPG :: Examples :: Simplest POM<span class="tag">&lt;/name&gt;</span>

<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The groupId</p>
</li>
<li>
<p>The artifactId</p>
</li>
<li>
<p>The version</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_build_life_cycle"><a class="link" href="#_the_build_life_cycle">1. The build life cycle</a></h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_single_module_projects" class="sect0"><a class="link" href="#_single_module_projects">Single Module Projects</a></h1>
<div class="sect1">
<h2 id="_overview"><a class="link" href="#_overview">2. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>An often used setup of a Maven project has a single <code>pom.xml</code> file which
contains the definition for dependencies and plugins etc. The project has
a single artifact as a result which is often a <code>jar</code> file, but of course
you can create <code>war</code>, <code>ear</code> or alike. That will be defined by the given
<code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> tag.</p>
</div>
<div class="sect2">
<h3 id="_directory_structure"><a class="link" href="#_directory_structure">2.1. Directory Structure</a></h3>
<div class="paragraph">
<p>The following directory structure shows the default directory layout of
a Maven project. That a convention to go that way. I strongly recommend
to keep that structure (<a href="_exceptions.adoc">more details ??)</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code> +--- pom.xml
   +--- src
         +--- main
               +--- java
               +--- resources
         +--- test
               +--- java
               +--- resources</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_different_dependent_projects"><a class="link" href="#_different_dependent_projects">2.1.1. Different dependent projects</a></h4>
<div class="paragraph">
<p>Having several projects? Identifying duplication for example
plugin configuration, pluginManagement etc.
TODO: Add chapter about parents&#8230;&#8203;</p>
</div>
</div>
</div>
</div>
</div>
<h1 id="_parent" class="sect0"><a class="link" href="#_parent">Parent</a></h1>
<div class="openblock partintro">
<div class="content">
the intention of a parent in general, super-pom,
corporate parent?
What should be part of a parent? What should NOT being
part of a parent?
</div>
</div>
<div class="sect1">
<h2 id="_overview_2"><a class="link" href="#_overview_2">3. Overview</a></h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_multi_module_builds" class="sect0"><a class="link" href="#_multi_module_builds">Multi Module Builds</a></h1>
<div class="sect1">
<h2 id="_overview_3"><a class="link" href="#_overview_3">4. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes it is sufficient having a single pom file and a limited number of Java classes
which are combined into a single jar file.</p>
</div>
<div class="paragraph">
<p>This is a solution in a number of cases but not for all kind of project
types. In times of microservices projects becoming smaller even though
it happens that you would like to separate out parts. For example having a generation
of <a href="https://www.openapis.org/">OpenAPI based code</a>, or things like your jpa repositories (from
a Spring Boot app) etc.</p>
</div>
<div class="paragraph">
<p>If you think about creating a command line app including a web application where you
share code. That means you would have a command line part (module), a web application
part(module) and common code (module). This results in a nice multi-module-build.</p>
</div>
<div class="paragraph">
<p>In the JEE area where several parts of an enterprise applications make sense to
separate the creation of those kind of archive like
<a href="https://en.wikipedia.org/wiki/EAR_(file_format)">Enterprise Application Archive(ear)</a>,
the <a href="https://en.wikipedia.org/wiki/WAR_(file_format)">web application archive(war)</a> etc.</p>
</div>
<div class="paragraph">
<p>Nevertheless, project can become larger, when you realize it would make it easier
to separate several part out parts into a higher level of groupings.</p>
</div>
<div class="paragraph">
<p>In such cases it makes sense to create a multi-module-build. So start with a
look on the basic structure of a multi-module-build.</p>
</div>
<div class="sect2">
<h3 id="_basic_structure"><a class="link" href="#_basic_structure">4.1. Basic Structure</a></h3>
<div class="paragraph">
<p>Lets us take the example from the <a href="#_overview">Overview</a> chapter about the
command line app. We could name those modules like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>module-cli</p>
</li>
<li>
<p>module-web</p>
</li>
<li>
<p>module-common</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_directory_structure_2"><a class="link" href="#_directory_structure_2">4.1.1. Directory Structure</a></h4>
<div class="paragraph">
<p>Based on this assumption a directory structure could look like this. We assume further that the <code>root</code>
directory is the name of the git repository which will be created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>root
 +-- module-cli
 +-- module-common
 +-- module-web</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let us dive into the details about such a project structure. What
needs to be done to create such structure (apart from creating
the directories). How could we build such a project and what kind of consequence
are following from it.</p>
</div>
<div class="paragraph">
<p>Based on the idea of the relationship of the modules it is useful to create
an appropriate directory structure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code> +--- pom.xml
   +--- module-cli
   +--- module-web
   +--- module-common</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_multi_module_parent"><a class="link" href="#_the_multi_module_parent">4.1.2. The Multi-Module-Parent</a></h4>
<div class="paragraph">
<p>There are some parts which you need to pay attention to, to get a good working
experience. The first thing is the <code>pom.xml</code> file on the root level of this structure.
This is usually called the "parent" or multi-module-parent. This looks like this:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project</span>
  <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  ...

  <span class="tag">&lt;groupId&gt;</span>com.soebes.mpg.examples.mmb<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>parent<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;packaging&gt;</span>pom<span class="tag">&lt;/packaging&gt;</span>
  ..
  <span class="tag">&lt;modules&gt;</span>
    <span class="tag">&lt;module&gt;</span>module-cli<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>module-common<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>module-web<span class="tag">&lt;/module&gt;</span>
  <span class="tag">&lt;/modules&gt;</span>
  ..
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>pom.xml</code> file contains the usual parts like groupId, artifactId, version but at least
one very important difference to other project which is the <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>.
And of course the module defined by the usage of the <code>&lt;modules&gt;..&lt;/modules&gt;</code> tag including the
list of module which are defined by <code>&lt;module&gt;&#8230;&#8203;&lt;/module&gt;</code>. The names like <code>module-cli</code> etc.
correspond to the directories on the file system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code> +--- pom.xml
   +--- module-cli
   +--- module-web
   +--- module-common</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a usual Maven project you have a single <code>pom.xml</code> file, and then you start with
the <code>src/</code> directory where your code lives. The directory is often enriched with
other files like a <code>README.md</code> (or alike) etc.</p>
</div>
<div class="paragraph">
<p>The <code>README.md</code>(or alike) of course are often being found in multi-module-build as well.</p>
</div>
<div class="paragraph">
<p>This pom file contains no code nor does it produce an artifact as the usual
maven project. This means in other words it does not produce an <code>jar</code>-File.
This is the reason why this Maven project defines it&#8217;s packaging as <code>pom</code>.</p>
</div>
<div class="paragraph">
<p>But on the level of the parent <code>pom.xml</code> you will not find any <code>src</code> directory.</p>
</div>
<div class="paragraph">
<p>Apart from the above you need to define the list of modules which you
would like include in this parent. It is best practice to name the
folders as their appropriate <code>artifactId</code>. So now let us take a look
at a module how its pom file looks like:</p>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project</span>
  <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  <span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.soebes.mpg.examples.mmb<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;/parent&gt;</span>

  <span class="tag">&lt;artifactId&gt;</span>module-core<span class="tag">&lt;/artifactId&gt;</span>
...
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/11528877/releasing-a-multi-module-maven-project-hosted-in-single-git-repository/">See here</a></p>
</div>
<div class="paragraph">
<p>What is the basic idea of a multi module build? Same version? Same time of releasing them.</p>
</div>
<div class="paragraph">
<p>Reasons to create a multi module setup:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multiple Modules</p>
</li>
<li>
<p><span class="line-through">mvn install (first why?)</span></p>
</li>
<li>
<p>Unit Tests (mvn test)</p>
</li>
<li>
<p>Integration Test (mvn integration-test)</p>
</li>
<li>
<p>packaging</p>
</li>
<li>
<p>use of an module from a reactor build in other projects?</p>
</li>
<li>
<p>Release all modules/projects at one point in time</p>
</li>
<li>
<p>All the modules are related to each other ?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pro&#8217;s and Cons'
<a href="http://stackoverflow.com/questions/23584429/releasing-a-modular-maven-project" class="bare">http://stackoverflow.com/questions/23584429/releasing-a-modular-maven-project</a></p>
</div>
<div class="paragraph">
<p>Jenkins support for separated maven projects to be released:
<a href="https://wiki.jenkins-ci.org/display/JENKINS/Maven+Cascade+Release+Plugin" class="bare">https://wiki.jenkins-ci.org/display/JENKINS/Maven+Cascade+Release+Plugin</a></p>
</div>
<div class="paragraph">
<p>Aggregator ? Difference.</p>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/23936339/maven-parent-project-structure" class="bare">http://stackoverflow.com/questions/23936339/maven-parent-project-structure</a></p>
</div>
<div class="paragraph">
<p>What if only a single modules code has been changed? Can i release only a single
module from the multi module build? Draw backs?</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_releasing_a_multi_module_project"><a class="link" href="#_releasing_a_multi_module_project">4.2. Releasing a Multi module Project</a></h3>
<div class="paragraph">
<p>From root, single module?
?</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="link" href="#_examples">4.3. Examples</a></h3>
<div class="sect3">
<h4 id="_xxx"><a class="link" href="#_xxx">4.3.1. XXX</a></h4>

</div>
<div class="sect3">
<h4 id="_spring_boot"><a class="link" href="#_spring_boot">4.3.2. Spring Boot</a></h4>
<div class="paragraph">
<p>A multi module project based on Spring Boot.</p>
</div>
<div class="paragraph">
<p>spring boot project setup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>root
 +--- pom.xml
   +--- jpa
   +--- controllers
   +--- application</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_testing_with_maven" class="sect0"><a class="link" href="#_testing_with_maven">Testing with Maven</a></h1>
<div class="sect1">
<h2 id="_overview_4"><a class="link" href="#_overview_4">5. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Basic Unit Testing, Responsibilities of Plugins, Using JUnit, TestNG,
multi module builds and unit tests.</p>
</div>
<div class="paragraph">
<p>This chapter will give some practical hints how you can use unit- and
integration tests in relationship with Maven. Furthermore it will give
you tipps how to prevent several issues with testing.</p>
</div>
<div class="paragraph">
<p>Think about some examples about the following:
<a href="http://stackoverflow.com/questions/23588707/maven-layout-how-to-be-sure-that-src-main-does-not-depend-on-src-test" class="bare">http://stackoverflow.com/questions/23588707/maven-layout-how-to-be-sure-that-src-main-does-not-depend-on-src-test</a></p>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/23659829/maven-run-class-before-test-phase-exec-maven-plugin-execjava-not-executing-cla" class="bare">http://stackoverflow.com/questions/23659829/maven-run-class-before-test-phase-exec-maven-plugin-execjava-not-executing-cla</a></p>
</div>
<div class="paragraph">
<p>Information:
<a href="http://labs.carrotsearch.com/randomizedtesting.html" class="bare">http://labs.carrotsearch.com/randomizedtesting.html</a>
<a href="http://stackoverflow.com/questions/8295100/how-to-re-run-failed-junit-tests-immediately" class="bare">http://stackoverflow.com/questions/8295100/how-to-re-run-failed-junit-tests-immediately</a></p>
</div>
<div class="paragraph">
<p><a href="https://blog.42.nl/articles/keeping-integration-tests-isolated/" class="bare">https://blog.42.nl/articles/keeping-integration-tests-isolated/</a></p>
</div>
<div class="sect2">
<h3 id="_unit_testing"><a class="link" href="#_unit_testing">5.1. Unit Testing</a></h3>
<div class="paragraph">
<p>Unit testing can be done out-of-box in Maven which means you just have
to locate your unit tests into 'src/test/java' and follow the naming
conventions. The resulting and recommended folder structure will be show
in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre>.
|-- pom.xml
`-- src
    |-- main
    |   `-- java
    |       `-- com
    |           `-- soebes
    |               `-- training
    |                   `-- maven
    |                       `-- simple
    |                           `-- BitMask.java
    `-- test
        `-- java
            `-- com
                `-- soebes
                    `-- training
                        `-- maven
                            `-- simple
                                `-- BitMaskTest.java</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The folder 'src/main/java' plus an approriate package structure will
contain your production code whereas the 'src/test/java' plus the
package structure will contains your unit test area.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Table 1. Naming Schema for Unit Tests</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name Pattern</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test*.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TestBitMask.java</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*Test.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BitMaskTest.java</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*TestCase.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BitMaskTestCase.java</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following simple example will show how a basic unit test can look
like.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.soebes.training.maven.simple</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">junit.framework.Assert.assertEquals</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">BitMaskTest</span> {

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> checkFirstBitTest() {
        BitMask bm = <span class="keyword">new</span> BitMask(<span class="hex">0x8000000000000000</span>L);
        assertEquals(<span class="predefined-constant">true</span>, bm.isBitSet(<span class="integer">63</span>));
    }

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> checkNumberBitTest() {
        <span class="keyword">for</span> (<span class="type">int</span> bitNumber = <span class="integer">0</span>; bitNumber &lt; <span class="integer">64</span>; bitNumber++) {
            <span class="type">long</span> bitMask = <span class="predefined-type">Long</span>.rotateLeft(<span class="integer">1</span>, bitNumber);
            BitMask bm = <span class="keyword">new</span> BitMask(bitMask);
            assertEquals(<span class="predefined-constant">true</span>, bm.isBitSet(bitNumber));
        }
    }

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> setBitNumberTest() {
        BitMask bm = <span class="keyword">new</span> BitMask();
        <span class="keyword">for</span> (<span class="type">int</span> bitNumber = <span class="integer">0</span>; bitNumber &lt; <span class="integer">64</span>; bitNumber++) {
            bm.setBit(bitNumber);
            assertEquals(<span class="predefined-constant">true</span>, bm.isBitSet(bitNumber));
        }
    }

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> unsetBitNumberTest() {
        BitMask bm = <span class="keyword">new</span> BitMask();
        <span class="keyword">for</span> (<span class="type">int</span> bitNumber = <span class="integer">0</span>; bitNumber &lt; <span class="integer">64</span>; bitNumber++) {
            bm.setBit(bitNumber);
        }
        <span class="keyword">for</span> (<span class="type">int</span> bitNumber = <span class="integer">0</span>; bitNumber &lt; <span class="integer">64</span>; bitNumber++) {
            bm.unsetBit(bitNumber);
            assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(bitNumber));
        }
    }

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> adhocBitTest() {
        BitMask bm = <span class="keyword">new</span> BitMask(<span class="hex">0xffffffffffffffff</span>L);
        bm.unsetBit(<span class="integer">10</span>);
        bm.unsetBit(<span class="integer">20</span>);
        bm.unsetBit(<span class="integer">30</span>);
        bm.unsetBit(<span class="integer">40</span>);
        bm.unsetBit(<span class="integer">50</span>);
        bm.unsetBit(<span class="integer">60</span>);

        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">10</span>));
        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">20</span>));
        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">30</span>));
        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">40</span>));
        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">50</span>));
        assertEquals(<span class="predefined-constant">false</span>, bm.isBitSet(<span class="integer">60</span>));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So if you follow the conventions in Maven and put your tests into the
appropriate location <code>src/test/java</code> those tests will automatically
be picked up and executed as unit tests. The plugin which is
responsible for execution of those unit tests is the
<a href="https://maven.apache.org/plugins/maven-surefire-plugin/">Maven Surefire Plugin</a>.</p>
</div>
<div class="paragraph">
<p>Make an example output here&#8230;&#8203;.</p>
</div>
<div class="paragraph">
<p>An important thing to think of is sometimes which test framework you
would like to use? There are things like <a href="https://junit.org">JUnit</a>, <a href="https://testng.org">TestNG</a>,
Spock and of course many other opportunities.</p>
</div>
<div class="paragraph">
<p>In the case you would like to use <a href="https://junit.org">JUnit</a> within your unit tests
you just simply add the appropriate dependency to your 'pom.xml' and
that&#8217;s it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  <span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.soebes.tmpg.examples.testing<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>tmpg-examples-aggregator<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;/parent&gt;</span>

  <span class="tag">&lt;groupId&gt;</span>com.soebes.tmpg.examples.testing.ut-example<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>unit-test-example<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>

  <span class="tag">&lt;name&gt;</span>TMPG :: Testing :: Unit Test Example<span class="tag">&lt;/name&gt;</span>

  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;version&gt;</span>4.13.1<span class="tag">&lt;/version&gt;</span>
      <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer <a href="https://testng.org">TestNG</a> to use for your unit tests you can simply
add the dependency for <a href="https://testng.org">TestNG</a> and your unit tests can be run as
well without any supplemental change except the changes based on the
differences between <a href="https://junit.org">JUnit</a> and <a href="https://testng.org">TestNG</a> itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project</span>
  <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  <span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.soebes.tpmg.examples.testing<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>tpmg-examples-aggregator<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;/parent&gt;</span>

  <span class="tag">&lt;groupId&gt;</span>com.soebes.tpmg.examples.testing.ut-example<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>unit-test-example-testng<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>

  <span class="tag">&lt;name&gt;</span>TMPG :: Testing :: Unit Test Example (TestNG)<span class="tag">&lt;/name&gt;</span>

  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>org.testng<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>testng<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;version&gt;</span>6.8.7<span class="tag">&lt;/version&gt;</span>
      <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Location of unit tests</p>
</div>
<div class="paragraph">
<p>'src/test/java' is the correct location for unit tests.</p>
</div>
<div class="paragraph">
<p>Packaging of unit tests
execution of unit tests
Support of testing frameworks
JUnit, TestNG, Spock?, BDD ?</p>
</div>
</div>
<div class="sect2">
<h3 id="_integration_testing"><a class="link" href="#_integration_testing">5.2. Integration Testing</a></h3>
<div class="paragraph">
<p>What is integration tests?
How to use? Naming convention?
In which cases should be used a separate module?</p>
</div>
<div class="paragraph">
<p>Test an web application with Selenium? (Examples).</p>
</div>
<div class="sect3">
<h4 id="_importance_of_separation"><a class="link" href="#_importance_of_separation">5.2.1. Importance of Separation</a></h4>
<div class="paragraph">
<p>Why is it important to separate between unit tests and integration
tests?</p>
</div>
<div class="paragraph">
<p>If look into the formal definition of unit tests you will read things
like independent from any resource etc.  So you can by definition
parallelize unit tests in general. If you don&#8217;t have real unit tests
you can&#8217;t go that simple path to improve your build time.</p>
</div>
<div class="paragraph">
<p>In controdiction integration tests are not independent and could not
be parallized by default. Under special circumstances you might change
cause you know your code and of course your tests. This means to
parallelize integration tests is always a task which should be done
separately.</p>
</div>
<div class="paragraph">
<p><a href="http://tempusfugitlibrary.org/documentation/" class="bare">http://tempusfugitlibrary.org/documentation/</a>
<a href="http://labs.carrotsearch.com/randomizedtesting.html" class="bare">http://labs.carrotsearch.com/randomizedtesting.html</a></p>
</div>
<div class="paragraph">
<p><a href="http://zeroturnaround.com/rebellabs/the-correct-way-to-use-integration-tests-in-your-build-process/" class="bare">http://zeroturnaround.com/rebellabs/the-correct-way-to-use-integration-tests-in-your-build-process/</a></p>
</div>
</div>
</div>
</div>
</div>
<h1 id="_maven_assemblies" class="sect0"><a class="link" href="#_maven_assemblies">Maven Assemblies</a></h1>
<div class="sect1">
<h2 id="_overview_5"><a class="link" href="#_overview_5">6. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>During the usage you will often be faced with the situation to
create a kind of distribution archive for example 'dist.zip' or
'dist.tar.gz' or other kind of archive flavors. Things which also
happen are to create a so called 'ueber' jar which you can use to call
your java application from the command line (There are other
opportunities as well see Chapter&#8230;&#8203;).
Furthermore, you often have the requirement to create archives
with different configurations for different environments this
also achievable.</p>
</div>
<div class="paragraph">
<p>This chapter will give a wide
overview of the possibilities how you can create the different flavors
of archives which you need to fulfill the requirements of your builds
furthermore we will take a look what kind of mistakes you can make and
how to prevent them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_maven_assembly_plugin"><a class="link" href="#_the_maven_assembly_plugin">7. The Maven Assembly Plugin</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://maven.apache.org/plugins/maven-assembly-plugin/">Maven Assembly Plugin</a> is especially created for such purposes to
create any kind of archive type.</p>
</div>
<div class="sect2">
<h3 id="_single_executable_artifact"><a class="link" href="#_single_executable_artifact">7.1. Single Executable Artifact</a></h3>
<div class="paragraph">
<p>One of the requirements you will often be confronted with is to create an
archive which can simply be executed on command line. This is often called an
'ueber-jar' or 'fat-jar' (or Maven tongue: jar-with-dependencies).  This can simply be accomplished by
using <a href="https://maven.apache.org/plugins/maven-assembly-plugin/">Maven Assembly Plugin</a>'s <a href="https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html">pre-defined descriptors</a>.</p>
</div>
<div class="paragraph">
<p>The following pom.xml example will give you an impression how the
configuration for <a href="https://maven.apache.org/plugins/maven-assembly-plugin/">Maven Assembly Plugin</a> needs to look like to get
a <code>jar-with-dependencies</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project</span>
  <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
  <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>

  <span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.soebes.tmpg.examples.assemblies<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>tmpg-assemblies-aggregator<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;/parent&gt;</span>

  <span class="tag">&lt;artifactId&gt;</span>assembly-jar-with-dependencies<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;name&gt;</span>TMPG :: Assemblies :: JAR With Dependencies<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>org.testng<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>testng<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;version&gt;</span>6.8.8<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>

  <span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
      <span class="tag">&lt;plugin&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;executions&gt;</span>
          <span class="tag">&lt;execution&gt;</span>
            <span class="tag">&lt;id&gt;</span>make-jar-with-dependencies<span class="tag">&lt;/id&gt;</span>
            <span class="tag">&lt;phase&gt;</span>package<span class="tag">&lt;/phase&gt;</span>
            <span class="tag">&lt;goals&gt;</span>
              <span class="tag">&lt;goal&gt;</span>single<span class="tag">&lt;/goal&gt;</span>
            <span class="tag">&lt;/goals&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
              <span class="tag">&lt;descriptorRefs&gt;</span>
                <span class="tag">&lt;descriptorRef&gt;</span>jar-with-dependencies<span class="tag">&lt;/descriptorRef&gt;</span>
              <span class="tag">&lt;/descriptorRefs&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
          <span class="tag">&lt;/execution&gt;</span>
        <span class="tag">&lt;/executions&gt;</span>
      <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
  <span class="tag">&lt;/build&gt;</span>
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By using the above pom you will get a jar which contains all the
dependencies you have defined in your pom file as part of the resulting
jar which is named by using a classifier <code>jar-with-dependencies</code> to
make it distinguishable from the other artifacts. The other aspect of
this example project is that you can see how simple it is to create
such an artifact. One thing which should be mentioned the
<a href="https://maven.apache.org/plugins/maven-assembly-plugin/">Maven Assembly Plugin</a>. It is not bound to any
<a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">Build Life Cycle Phase</a> by default which means you need to bind it to
the life-cycle explicitly if you like to use it.</p>
</div>
<div class="paragraph">
<p>A note about the given example. In real life you should find this
example suspicious, because it will use a typical test dependency (TestNG)
without the scope <code>test</code> which is usually wrong. In this case it is
only use for example purposes.</p>
</div>
<div class="paragraph">
<p>The created <code>jar-with-dependencies</code> can simply be used by the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar target/assembly-jar-with-dependencies-0.1.0-SNAPSHOTS-jar-with-dependency.jar</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_an_zip_archive"><a class="link" href="#_creating_an_zip_archive">7.2. Creating an ZIP Archive</a></h3>
<div class="paragraph">
<p>The idea of an archive is have particular content which is defined
by the project in the way you like to do that and define how it will look
like within the archive. This means having a folder structure within
the archive or not.</p>
</div>
</div>
<div class="sect2">
<h3 id="_default_assemblies"><a class="link" href="#_default_assemblies">7.3. Default Assemblies</a></h3>
<div class="ulist">
<ul>
<li>
<p>Default assemblies</p>
</li>
<li>
<p>Archive types</p>
</li>
<li>
<p>Component Descriptors</p>
</li>
<li>
<p>Distribution archive</p>
</li>
<li>
<p>empty folders etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Typical scenarios which occur often.</p>
</div>
<div class="paragraph">
<p>Create a jar with all dependencies which might be used to call simply java program as a command line
tool.
Alternatives <a href="https://maven.apache.org/plugins/maven-shade-plugin/">Maven Shade Plugin</a>.</p>
</div>
<div class="paragraph">
<p>You would like to create an distribution archive which contains the resulting components of your application.
Examples.</p>
</div>
<div class="paragraph">
<p>You would like to create an archive with all sources of your project as well as the sources
of all the used dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn dependency:sources
mvn dependency:copy-dependencies -Dclassifier=sources -DoutputDirectory=target/sources</pre>
</div>
</div>
<div class="paragraph">
<p>Add here all the examples from my example-assemblies</p>
</div>
<div class="paragraph">
<p>Special requirements which you can fulfil with maven-assembly-plugin
<a href="https://stackoverflow.com/questions/24311053/how-to-get-the-content-of-a-directory-inside-of-war-that-is-inside-of-an-ear-tha" class="bare">https://stackoverflow.com/questions/24311053/how-to-get-the-content-of-a-directory-inside-of-war-that-is-inside-of-an-ear-tha</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_predefined_descriptors"><a class="link" href="#_predefined_descriptors">7.4. Predefined Descriptors</a></h3>
<div class="paragraph">
<p>The predefined descriptors fulfil the need of often requests archive types which should be usable in a very short time.
You could use them in a very simple form.</p>
</div>
</div>
<div class="sect2">
<h3 id="_module_sets"><a class="link" href="#_module_sets">7.5. Module Sets</a></h3>

</div>
<div class="sect2">
<h3 id="_dependency_sets"><a class="link" href="#_dependency_sets">7.6. Dependency Sets</a></h3>

</div>
<div class="sect2">
<h3 id="_sources"><a class="link" href="#_sources">7.7. Sources</a></h3>

</div>
<div class="sect2">
<h3 id="_predefined_descriptors_2"><a class="link" href="#_predefined_descriptors_2">7.8. Predefined Descriptors</a></h3>
<div class="paragraph">
<p>Currently there are four of them:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#bin">bin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies">jar-with-dependencies</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#src">src</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#project">project</a></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<h1 id="_plugins" class="sect0"><a class="link" href="#_plugins">Plugins</a></h1>
<div class="sect1">
<h2 id="_overview_6"><a class="link" href="#_overview_6">8. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugins of Maven building the foundation of the Maven eco system,
cause if you download Maven itself it&#8217;s a relative small archive
(less than 8 <a href="https://en.wikipedia.org/wiki/Binary_prefix#Specific_units_of_IEC_60027-2_A.2_and_ISO.2FIEC_80000">MiB</a>) and Maven itself is more or less only a IoC
container which supports the life-cycle and other small things. If you
like to compile for example your source code this is provided by the
<a href="https://maven.apache.org/plugins/maven-compiler-plugin/">Maven Compiler Plugin</a> with the appropriate functionality.</p>
</div>
<div class="paragraph">
<p>This chapter will give you an overview of the different areas of
plugins sources, the different ideas of the plugins and their typical
usage within a Java project build.</p>
</div>
<div class="sect2">
<h3 id="_the_plugin_sources"><a class="link" href="#_the_plugin_sources">8.1. The Plugin Sources</a></h3>
<div class="paragraph">
<p>In general there are two big sources of plugin. The first source is
the area under the umbrella of the <a href="https://www.apache.org/">Apache Software Foundation</a>.
I will call them the <strong>Core Maven Plugins</strong>. The reason for this is that
you will find plugins like <a href="https://maven.apache.org/plugins/maven-compiler-plugin/">Maven Compiler Plugin</a>,
<a href="https://maven.apache.org/plugins/maven-jar-plugin/">Maven Jar Plugin</a> etc. in that area which provide the most basic
functionality for your build.</p>
</div>
<div class="paragraph">
<p>The second source is the <a href="https://www.mojohaus.org/plugins.html">MojoHaus</a>
area which also provides a large number of maven plugins.</p>
</div>
<div class="paragraph">
<p>Other sources of PLugins (JBoss, Tomcat, Antlr, google code (Maven
Processor Plugin)</p>
</div>
<div class="paragraph">
<p>jaxws-maven-plugin ? (URL?)</p>
</div>
<div class="paragraph">
<p>Describe more sources and other plugins</p>
</div>
<div class="paragraph">
<p>Groovy Plugins</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_different_plugins"><a class="link" href="#_the_different_plugins">9. The Different Plugins</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter we will take a look on more or less every plugin which
is a participant of a usual Java build or to be more accurate a
participant of the {link-build-life-cycle}.</p>
</div>
<div class="paragraph">
<p>The lifecycle contains already bindings for usual plugins so
in the majority of the cases its enough to build usual projects.</p>
</div>
<div class="sect2">
<h3 id="_clean_everything"><a class="link" href="#_clean_everything">9.1. Clean Everything</a></h3>
<div class="paragraph">
<p>If you want to be sure your build will start from scratch you need to
wipe out everything which has been created by previous operations or
the build itself. So the <a href="https://maven.apache.org/plugins/maven-clean-plugin/">Maven Clean Plugin</a> is your friend
which will delete the 'target' folder of your project or in every
module in case of a multi-module build. This can be simply achieved by
calling maven like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean</pre>
</div>
</div>
<div class="paragraph">
<p>Usualy you won&#8217;t ever think about the <a href="https://maven.apache.org/plugins/maven-clean-plugin/">Maven Clean Plugin</a>, cause
by default it&#8217;s bound to the 'clean' <a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">Build Life Cycle Phase</a> and there
is no reason to change the configuration of the
<a href="https://maven.apache.org/plugins/maven-clean-plugin/">Maven Clean Plugin</a> or something similar. In rare situations it
could happen that you need to change the configuration and add
supplemental folders or files which should be deleted during a 'mvn
clean' call.</p>
</div>
<div class="paragraph">
<p>HINT: Something about the clean life cylce of the maven super pom!!</p>
</div>
<div class="paragraph">
<p>In the clean life cycle the following phases exist: pre-clean, clean, post-clean.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources"><a class="link" href="#_resources">9.2. Resources</a></h3>
<div class="paragraph">
<p>Often it occurs that your java code needs some kind of configuration
files.  One of the most famous examples for this kind of
configurations is one of those numerous logging frameworks like log4j,
logback, log4j2 etc.  So the question is where to locate such
configuration files? The <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Default Folder Layout</a> gives you the
hint to put such things into 'src/main/resources' which is of
course intended for the production code (in other words which is
packaged later into the jar file). Furthermore it is often the case as
well as having different configuration files for your unit tests cause
you would like having a different logging level in your unit test so
you need a different set of files which should be located into
'src/test/resources'. This means in other words those files will not
be packaged into the resulting jar file.</p>
</div>
<div class="paragraph">
<p>TODO: Move the following to test phase</p>
</div>
<div class="paragraph">
<p>HINT about super pom !</p>
</div>
<div class="paragraph">
<p>So usually you can simply put your appropriate configuration files
into 'src/test/resources' or 'src/main/resources' and they will
automatically be copied into 'target/classes' or
'target/test-classes'.  But why are they copied ? The most important
point about this is that you can use such resources by the usual java
resources way like this:</p>
</div>
<div class="paragraph">
<p>code example (getClass().getResourcesAsStream("/log4j.properties");
This works for unit tests and for your production code! (good example?)</p>
</div>
<div class="paragraph">
<p>One important thing to mention is that the order on your class path
is that the resources from your test resources coming first before
your production code which means you can give a different configurtation file
for every file which you already use in your production code and so you
can change the behaviour in your unit tests to change things for example
the logging level or something else.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://maven.apache.org/plugins/maven-resources-plugin/">Maven Resources Plugin</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_let_the_source_be_with_you"><a class="link" href="#_let_the_source_be_with_you">9.3. Let The Source Be With You</a></h3>
<div class="paragraph">
<p>You usually write Java source code (ok ok sometimes you write
difference sources like <a href="https://groovy-lang.org/">Groovy</a>, <a href="https://scala.org">Scala</a> or
whatever) and of course you would like to compile such code into
usable class files which can be used to run your application
or to run your unit tests.</p>
</div>
<div class="paragraph">
<p>This is the purpose of the <a href="https://maven.apache.org/plugins/maven-compiler-plugin/">Maven Compiler Plugin</a> which will
compile your source code into class files.</p>
</div>
<div class="paragraph">
<p>The source code is located in 'src/main/java' and will be compiled
into the 'target/classes' folder. Apart from that the Maven Compiler
Plugin is also responsible to compile your unit/integration test code
which is located in 'src/test/java' into 'target/test-classes'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lets_see_if_the_code_is_working"><a class="link" href="#_lets_see_if_the_code_is_working">9.4. Let&#8217;s See If The Code Is Working?</a></h3>
<div class="paragraph">
<p>After we have compiled the whole code we should run the unit tests to
check our code. This is done before the code will be packaged into a
jar file, cause if one of your unit tests will fail your build will
fail and no packages are being built.</p>
</div>
<div class="paragraph">
<p>For this purpose the <a href="https://maven.apache.org/plugins/maven-surefire-plugin/">Maven Surefire Plugin</a> is responsible
to run those unit tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="_let_the_jars_come_to_me"><a class="link" href="#_let_the_jars_come_to_me">9.5. Let The Jar&#8217;s Come To Me</a></h3>
<div class="paragraph">
<p>After the production code has been compiled into the appropriate
'.class' files they will be packed into a jar file which is the base
unit to be distributed.  The jar will contain only the files from
'target/classes'.  So if you don&#8217;t do something special your unit
tests will never be packed into jar files.</p>
</div>
<div class="paragraph">
<p>The <a href="https://maven.apache.org/plugins/maven-jar-plugin/">Maven Jar Plugin</a> is bound to the 'package' build life cycle
phase to create a jar file. This jar file contains only the files from
the 'src/main/java' inclusive the resources from 'src/main/resources'
area (Let use call it the production code area).</p>
</div>
<div class="paragraph">
<p>There exsist situations where you like to package your test code into
a jar as well. This can be achieved by using the <code>test-jar</code> goal of the
<a href="https://maven.apache.org/plugins/maven-jar-plugin/">Maven Jar Plugin</a>.</p>
</div>
<div class="paragraph">
<p>See examples (testing with common code).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://maven.apache.org/plugins/maven-jar-plugin/">Maven Jar Plugin</a></p>
<div class="paragraph">
<p>Creating test-jars
non transitive behaviour of test-jar artifact. Solution create a usual separate module.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_install_the_archive"><a class="link" href="#_install_the_archive">9.6. Install The Archive</a></h3>
<div class="paragraph">
<p>After the jar archive has been created the archive can be installed into the local
repository to be consumed by other projects on the same machine. For such a purpose
the <a href="https://maven.apache.org/plugins/maven-install-plugin/">Maven Install Plugin</a> is responsible.</p>
</div>
</div>
<div class="sect2">
<h3 id="_distribute_it_to_the_world"><a class="link" href="#_distribute_it_to_the_world">9.7. Distribute It To The World</a></h3>
<div class="paragraph">
<p>To break the limits of your machine you can distribute an jar archive to
a remote repository which can be used by other users.
For this the <a href="https://maven.apache.org/plugins/maven-deploy-plugin/">Maven Deploy Plugin</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://maven.apache.org/plugins/maven-war-plugin/">Maven WAR Plugin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-ear-plugin/">Maven EAR Plugin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-ejb-plugin/">Maven EJB Plugin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-shade-plugin/">Maven Shade Plugin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-deploy-plugin/">Maven Deploy Plugin</a></p>
</li>
<li>
<p><a href="https://maven.apache.org/plugins/maven-install-plugin/">Maven Install Plugin</a></p>
<div class="paragraph">
<p>Idea and usage? Why?</p>
</div>
</li>
<li>
<p><a href="https://www.mojohaus.org/buildnumber-maven-plugin/">Mojo&#8217;s Buildnumber Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/build-helper-maven-plugin/">Mojo&#8217;s Build Helper Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/appassembler-maven-plugin">Mojo&#8217;s Appassembler Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/exec-maven-plugin/">Mojo&#8217;s Exec Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/sql-maven-plugin/">Mojo&#8217;s SQL Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/templating-maven-plugin/">Mojo&#8217;s Templating Maven Plugin</a></p>
</li>
<li>
<p><a href="https://www.mojohaus.org/version-maven-plugin/">Mojo&#8217;s Versions Maven Plugin</a></p>
</li>
<li>
<p>More ?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="http://mojo.codehaus.org/clirr-maven-plugin/" class="bare">http://mojo.codehaus.org/clirr-maven-plugin/</a></p>
</div>
<div class="paragraph">
<p>Google Code:
maven-processor-plugin
<a href="http://stackoverflow.com/questions/24345920/could-i-use-java-6-annotation-processors-jsr-269-to-produce-code-for-gwt-in-ma" class="bare">http://stackoverflow.com/questions/24345920/could-i-use-java-6-annotation-processors-jsr-269-to-produce-code-for-gwt-in-ma</a></p>
</div>
<div class="paragraph">
<p><a href="http://mvnplugins.fusesource.org/maven/1.4/maven-uberize-plugin/compared-to-shade.html" class="bare">http://mvnplugins.fusesource.org/maven/1.4/maven-uberize-plugin/compared-to-shade.html</a></p>
</div>
<div class="paragraph">
<p>maven-graph-plugin</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/fusesource/mvnplugins/" class="bare">https://github.com/fusesource/mvnplugins/</a></p>
</div>
<div class="paragraph">
<p>(Looks intresting)
<a href="http://site.kuali.org/maven/plugins/graph-maven-plugin/1.2.3/dependency-graphs.html" class="bare">http://site.kuali.org/maven/plugins/graph-maven-plugin/1.2.3/dependency-graphs.html</a>
Can add the graphs a reports to the build.
Take a deeper look into it.
<a href="http://site.kuali.org/maven/plugins/" class="bare">http://site.kuali.org/maven/plugins/</a></p>
</div>
<div class="paragraph">
<p>Checksums
<a href="http://nicoulaj.github.io/checksum-maven-plugin/" class="bare">http://nicoulaj.github.io/checksum-maven-plugin/</a></p>
</div>
<div class="paragraph">
<p>nar-maven-plugin:
<a href="https://github.com/maven-nar/nar-maven-plugin" class="bare">https://github.com/maven-nar/nar-maven-plugin</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/marceloverdijk/lesscss-maven-plugin" class="bare">https://github.com/marceloverdijk/lesscss-maven-plugin</a></p>
</div>
<div class="paragraph">
<p>Take a deeper look into this
<a href="http://docs.spring.io/spring-boot/docs/2.4.2/maven-plugin/usage.html" class="bare">http://docs.spring.io/spring-boot/docs/2.4.2/maven-plugin/usage.html</a>
spring-boot-maven-plugin</p>
</div>
<div class="paragraph">
<p>Very interesting plugin:
<a href="http://www.javacodegeeks.com/2014/08/maven-git-release.html" class="bare">http://www.javacodegeeks.com/2014/08/maven-git-release.html</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_let_the_force_be_with_you"><a class="link" href="#_let_the_force_be_with_you">9.8. Let The Force Be With You</a></h3>
<div class="paragraph">
<p>The larger a build becomes the more you need to control what happens
within your build otherwise the {link-broken-window-problem} occurs
and will likely result in later problems you should prevent.</p>
</div>
<div class="paragraph">
<p>How can you force rules within in your build?  Sometimes it is not
enough to suggest the best practice you need to force the best
practices within a build. The tool to do so is the
<a href="https://maven.apache.org/plugins/maven-enforcer-plugin/">Maven Enforcer Plugin</a>.</p>
</div>
<div class="paragraph">
<p>One of the basic things is to force your build is built with the
correct Maven version, cause htere exist some things which don&#8217;t work
with older Maven versions etc.  The way to prevent building with the
wrong Maven version was to use the <code>prerequsites</code> tag like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;prerequisites&gt;</span>
  <span class="tag">&lt;maven&gt;</span>3.8.7<span class="tag">&lt;/maven&gt;</span>
<span class="tag">&lt;/prerequisites&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>but based on the improvements in Maven within Maven 3 the
'prerequsites' part in the pom has been marked as depcrecated and will
not be checked. So to make sure a build will only works with a
particular Maven version for example 3.1.1 you need to go the
following path:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td>
  <td class="code"><pre><span class="tag">&lt;project</span> <span class="attribute-name">...</span><span class="tag">&gt;</span>

  <span class="comment">&lt;!-- This marked as deprecated for Maven 3.X. This is checked by maven-enforcer-plugin --&gt;</span>
  <span class="comment">&lt;!--  https://issues.apache.org/jira/browse/MNG-4840 --&gt;</span>
  <span class="comment">&lt;!--  https://issues.apache.org/jira/browse/MNG-5297 --&gt;</span>
  <span class="tag">&lt;prerequisites&gt;</span>
    <span class="tag">&lt;maven&gt;</span>${maven.version}<span class="tag">&lt;/maven&gt;</span>
  <span class="tag">&lt;/prerequisites&gt;</span>

  <span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
      <span class="tag">&lt;plugin&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>maven-enforcer-plugin<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;executions&gt;</span>
          <span class="tag">&lt;execution&gt;</span>
            <span class="tag">&lt;id&gt;</span>enforce-maven<span class="tag">&lt;/id&gt;</span>
            <span class="tag">&lt;goals&gt;</span>
              <span class="tag">&lt;goal&gt;</span>enforce<span class="tag">&lt;/goal&gt;</span>
            <span class="tag">&lt;/goals&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
              <span class="tag">&lt;rules&gt;</span>
                <span class="tag">&lt;requireMavenVersion&gt;</span>
                  <span class="tag">&lt;version&gt;</span>${maven.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/requireMavenVersion&gt;</span>
              <span class="tag">&lt;/rules&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
          <span class="tag">&lt;/execution&gt;</span>
        <span class="tag">&lt;/executions&gt;</span>
      <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
  <span class="tag">&lt;/build&gt;</span>
  ..
<span class="tag">&lt;/project&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
  <td class="code"><pre><span class="tag">&lt;plugin&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>maven-enforcer-plugin<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;executions&gt;</span>
    <span class="tag">&lt;execution&gt;</span>
      <span class="tag">&lt;id&gt;</span>enforce-maven<span class="tag">&lt;/id&gt;</span>
      <span class="tag">&lt;goals&gt;</span>
        <span class="tag">&lt;goal&gt;</span>enforce<span class="tag">&lt;/goal&gt;</span>
      <span class="tag">&lt;/goals&gt;</span>
      <span class="tag">&lt;configuration&gt;</span>
        <span class="tag">&lt;rules&gt;</span>
          <span class="tag">&lt;requireSameVersions&gt;</span>
            <span class="tag">&lt;plugins&gt;</span>
              <span class="tag">&lt;plugin&gt;</span>org.apache.maven.plugins:maven-surefire-plugin<span class="tag">&lt;/plugin&gt;</span>
              <span class="tag">&lt;plugin&gt;</span>org.apache.maven.plugins:maven-failsafe-plugin<span class="tag">&lt;/plugin&gt;</span>
              <span class="tag">&lt;plugin&gt;</span>org.apache.maven.plugins:maven-surefire-report-plugin<span class="tag">&lt;/plugin&gt;</span>
            <span class="tag">&lt;/plugins&gt;</span>
          <span class="tag">&lt;/requireSameVersions&gt;</span>
        <span class="tag">&lt;/rules&gt;</span>
      <span class="tag">&lt;/configuration&gt;</span>
    <span class="tag">&lt;/execution&gt;</span>
  <span class="tag">&lt;/executions&gt;</span>
<span class="tag">&lt;/plugin&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="_making_releases" class="sect0"><a class="link" href="#_making_releases">Making Releases</a></h1>
<div class="sect1">
<h2 id="_overview_7"><a class="link" href="#_overview_7">10. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here you get an overview of the different options how to do a release with Maven.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_traditional_maven_way"><a class="link" href="#_the_traditional_maven_way">11. The Traditional Maven Way</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>maven-release-plugin</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>How it works? What is needed (how to configure it?)</p>
</div>
<div class="paragraph">
<p>maven-release-plugin etc.
How it works. Pro&#8217;s and con&#8217;s.</p>
</div>
<div class="paragraph">
<p>Change the preparation goal in maven-release-plugin</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_releases_the_cd_way"><a class="link" href="#_releases_the_cd_way">12. Releases The CD Way</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Releases in the time of Continuous Delivery. How to solve this via Maven?
Is this possible? Maven 3.8.7, 3.9.0, 4.0.0&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Using Ci Friendly.
 with maven-scm-plugin.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prevent problems with using property in distributionManagement</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="http://www.youtube.com/watch?v=McTZtyb9M38" class="bare">http://www.youtube.com/watch?v=McTZtyb9M38</a></p>
</div>
<div class="paragraph">
<p><a href="http://maven.40175.n5.nabble.com/Continuous-Delivery-and-Maven-td3245370.html" class="bare">http://maven.40175.n5.nabble.com/Continuous-Delivery-and-Maven-td3245370.html</a></p>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/18456111/what-is-the-maven-way-for-project-versions-when-doing-continuous-delivery" class="bare">http://stackoverflow.com/questions/18456111/what-is-the-maven-way-for-project-versions-when-doing-continuous-delivery</a></p>
</div>
<div class="paragraph">
<p>An other kind of doing releases..
<a href="http://danielflower.github.io/2015/03/08/The-Multi-Module-Maven-Release-Plugin-for-Git.html" class="bare">http://danielflower.github.io/2015/03/08/The-Multi-Module-Maven-Release-Plugin-for-Git.html</a></p>
</div>
</div>
</div>
<h1 id="_continious_integration_solution" class="sect0"><a class="link" href="#_continious_integration_solution">Continious Integration Solution</a></h1>
<div class="sect1">
<h2 id="_more_details"><a class="link" href="#_more_details">13. More Details</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jenkins
how to work in relationship with Jenkins.
Which Plugins of Jenkins can be usefull</p>
</div>
</div>
</div>
<h1 id="_build_smells" class="sect0"><a class="link" href="#_build_smells">Build Smells</a></h1>
<div class="sect1">
<h2 id="_creating_multiple_artifacts"><a class="link" href="#_creating_multiple_artifacts">14. Creating Multiple Artifacts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multiple Artifacts The Wrong Way</p>
</div>
<div class="paragraph">
<p>Creating multiple jars from a single module? (create a jar from package a.b.c and
create an other jar from packages a.b.d)?</p>
</div>
<div class="paragraph">
<p>Examples for build smells:</p>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/11448184/maven-jar-plugin-include-upper-dir" class="bare">http://stackoverflow.com/questions/11448184/maven-jar-plugin-include-upper-dir</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_not_part_of_the_life_cycle"><a class="link" href="#_not_part_of_the_life_cycle">15. Not Part of the Life Cycle</a></h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>Calling mvn assembly:single or assembly:assemble ? Why not being part of the build? and use mvn package?</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multi_module_builds_2"><a class="link" href="#_multi_module_builds_2">16. Multi Module Builds</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>accessing other modules via <code>${project.basedir}/../..</code> ?</p>
</div>
<div class="sect2">
<h3 id="_module_structure"><a class="link" href="#_module_structure">16.1. Module Structure</a></h3>
<div class="ulist">
<ul>
<li>
<p>Parent of a multi-module-build is <strong>not located</strong> at root level of the structure?</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_the_install_hack"><a class="link" href="#_the_install_hack">16.2. The Install Hack</a></h3>
<div class="paragraph">
<p>The Install Hack</p>
</div>
<div class="paragraph">
<p>You need to do <code>mvn install</code> in a multi-module build but <code>mvn clean package</code> will not work?</p>
</div>
</div>
<div class="sect2">
<h3 id="_separation_of_concerns"><a class="link" href="#_separation_of_concerns">16.3. Separation of Concerns</a></h3>
<div class="paragraph">
<p>Multiple Purposes of a Module</p>
</div>
<div class="paragraph">
<p>Use a module for only one purpose not for many. (Separation of Concern)</p>
</div>
<div class="paragraph">
<p>Trying to build different artifacts with a single project setup instead
of going for multi-module-setup. Clean separation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing"><a class="link" href="#_testing">17. Testing</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Not separated unit- and integration tests
Configuration by using profile for unit and integration tests</p>
</li>
<li>
<p>Typical indicator having TestSuite class file etc.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assemblies"><a class="link" href="#_assemblies">18. Assemblies</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Looking on the file system instead of using the reactor
Here:
<a href="http://stackoverflow.com/questions/23951547/how-to-create-single-target-from-multi-module-maven-project" class="bare">http://stackoverflow.com/questions/23951547/how-to-create-single-target-from-multi-module-maven-project</a></p>
</li>
<li>
<p>Warngings in relationship with maven-assembly-plugin (dir format!)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problem_with_profiles_and_dependencies"><a class="link" href="#_problem_with_profiles_and_dependencies">19. Problem with Profiles and Dependencies</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://blog.soebes.de/blog/2013/11/09/why-is-it-bad-to-activate-slash-deactive-modules-by-profiles-in-maven/" class="bare">http://blog.soebes.de/blog/2013/11/09/why-is-it-bad-to-activate-slash-deactive-modules-by-profiles-in-maven/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_about_dependencies_by_profiles"><a class="link" href="#_what_about_dependencies_by_profiles">20. What about dependencies by profiles?</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Describe why and how and what the drawbacks are?</p>
</div>
</div>
</div>
<h1 id="_plugin_development" class="sect0"><a class="link" href="#_plugin_development">Plugin Development</a></h1>
<div class="sect1">
<h2 id="_overview_8"><a class="link" href="#_overview_8">21. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>How to develop a plugin.
Basics. Annotations?
Example project.</p>
</div>
<div class="paragraph">
<p>How to test plugins?</p>
</div>
<div class="sect2">
<h3 id="_reasons"><a class="link" href="#_reasons">21.1. Reasons</a></h3>
<div class="ulist">
<ul>
<li>
<p>Reasons to develop a plugin?</p>
</li>
<li>
<p>Why is it better to write a plugin instead using scripts/external execution of Java/Groovy/Kotlin whatever code?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Often I see people developing maven plugins which are superfluous, cause the functionality is already
provided by one of the existing plugins or a combination of other plugins.</p>
</div>
<div class="paragraph">
<p>So the question is: When should I start to think about creating my own plugin?
The simple answer to this: If the needed functionality is not being provided by any existing plugin.</p>
</div>
<div class="paragraph">
<p>Example when to create a plugin?</p>
</div>
</div>
<div class="sect2">
<h3 id="_basics"><a class="link" href="#_basics">21.2. Basics</a></h3>
<div class="paragraph">
<p>What is a Mojo?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The annotations for plugins which are needed?</p>
</li>
<li>
<p>How to build a plugin?</p>
</li>
<li>
<p>How to test a plugin?</p>
</li>
<li>
<p>How to create a very basic plugin</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_building_a_plugin"><a class="link" href="#_building_a_plugin">21.3. Building a plugin</a></h3>
<div class="ulist">
<ul>
<li>
<p>What is needed to build a plugin?</p>
</li>
<li>
<p>How does a Maven project look like for building a plugin?</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_testing_2"><a class="link" href="#_testing_2">21.4. Testing</a></h3>
<div class="paragraph">
<p>Testing a plugin is one of the most challenging thing cause a plugin which is running inside a container (Maven Runtime)
has several aspects of testing.</p>
</div>
<div class="paragraph">
<p>In general there at least three different typs of tests you usually (should) write:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Java code (more or less independent) functionality you would like to put into a plugin.</p>
<div class="ulist">
<ul>
<li>
<p>Usually covered by unit/integration tests which you (should) already know.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Mojo itself?</p>
</li>
<li>
<p>The interaction with a real project?</p>
<div class="ulist">
<ul>
<li>
<p>How does a plugin behave within a real project setup?</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Testing frameworks / Support</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://maven.apache.org/plugins/maven-invoker-plugin/">Maven Invoker Plugin</a></p>
</li>
<li>
<p><a href="https://github.com/khmarbaise/maven-it-extension" class="bare">https://github.com/khmarbaise/maven-it-extension</a></p>
</li>
<li>
<p><a href="http://maven.apache.org/plugins/maven-invoker-plugin/index.html" class="bare">http://maven.apache.org/plugins/maven-invoker-plugin/index.html</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://github.com/asciidoctor/asciidoctor-maven-plugin" class="bare">https://github.com/asciidoctor/asciidoctor-maven-plugin</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_compatibility"><a class="link" href="#_compatibility">21.5. Compatibility</a></h3>
<div class="paragraph">
<p>There a different aspect of compatibility. The first one is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which minimum Java version you should support?</p>
</li>
<li>
<p>Minimum Maven version you will require?</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<h1 id="_performance_tipps" class="sect0"><a class="link" href="#_performance_tipps">Performance tipps</a></h1>
<div class="sect1">
<h2 id="_incremental_builds"><a class="link" href="#_incremental_builds">22. Incremental Builds</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>incremental builds in Maven.</p>
</div>
<div class="paragraph">
<p>Improve the performance of your build.</p>
</div>
<div class="paragraph">
<p><a href="http://grumpyapache.blogspot.de/2014/05/build-system-performnce-on-windows.html" class="bare">http://grumpyapache.blogspot.de/2014/05/build-system-performnce-on-windows.html</a></p>
</div>
<div class="paragraph">
<p>Don&#8217;t use NFS neither do use NTFS&#8230;&#8203;</p>
</div>
</div>
</div>
<h1 id="_repository_manager" class="sect0"><a class="link" href="#_repository_manager">Repository Manager</a></h1>
<div class="sect1">
<h2 id="_overview_9"><a class="link" href="#_overview_9">23. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter will give you an overview of the idea the intention of a repository manager.
It will also show and describe the advantages of the usage of a repository manager.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test"><a class="link" href="#_test">24. Test</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>TODO:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Why do you need a repository manager?</p>
</li>
<li>
<p>Proxy to Central, XXx</p>
</li>
<li>
<p>Using more external repositories than Central repository.</p>
</li>
</ul>
</div>
</div>
</div>
<h1 id="_best_practices" class="sect0"><a class="link" href="#_best_practices">Best Practices</a></h1>
<div class="sect1">
<h2 id="_directory_layout"><a class="link" href="#_directory_layout">25. Directory Layout</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>keep the defaults&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plugin_management"><a class="link" href="#_plugin_management">26. Plugin Management</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Define the plugins via pluginManagement&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generate_into_source_folder"><a class="link" href="#_generate_into_source_folder">27. Generate Into Source Folder</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>generating code into src folder instead of 'target'.
Pro/Cons on that approach..</p>
</div>
<div class="paragraph">
<p>In Maven the convention exists to put everything which is generated,
compiled etc. into the <code>target</code> folder of the appropriate module.
Unfortunately in the wild you will find builds which do not follow the
convention and for example generate things into `src folder which is
a bad practice (Hint why?).</p>
</div>
<div class="paragraph">
<p>So let use think about this a little more. The first thing
is if you change something in <code>src</code> folder means your version control
system will be alarmed about such a change which on the other hand means
you will be alarmed about a change which is not really a change, cause
generated code will usually generate the same code from the same source
but usually with some changed time stamp within the generated code.
The consequence on the above is you must exclude some areas from your
version control view to suppress such irritations.</p>
</div>
<div class="paragraph">
<p>The next thing is you need to change the configuration of your appropriate
plugins, cause more or less all plugins follow that conventions (ok there
exist some exceptions). This implies your configuration in your pom gets
larger and of course does not follow the conventions over configuration
paradigm.</p>
</div>
<div class="paragraph">
<p>Other 'solutions' which fall into the same category do something different.
They generate into a folder within 'target' things like 'target/generated-code'
but they usually missed that plugins usually add the generated code folder
to the project sources folders automatically already.
But in contradiction they explicitly add the generated folder via supplemental
plugins like 'build-helper-maven-plugin' to the sources folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies_dependencymanagement"><a class="link" href="#_dependencies_dependencymanagement">28. Dependencies / DependencyManagement</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scope only in real dependencies not in dependencyManagement</p>
</div>
<div class="paragraph">
<p>means always use scope:test in the real project and not in dependencyManagement</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deps_via_props"><a class="link" href="#_deps_via_props">29. Deps via Props</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using properties to control the dependencies with a so called company pom?</p>
</div>
<div class="paragraph">
<p>Result: Complete build is necessary instead of using released within a build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_company_wide_parents"><a class="link" href="#_company_wide_parents">30. Company wide parent(s)</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Manifest setup with master parent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;configuration&gt;</span>
  <span class="tag">&lt;archive&gt;</span>
    <span class="tag">&lt;addMavenDescriptor&gt;</span>true<span class="tag">&lt;/addMavenDescriptor&gt;</span>
    <span class="tag">&lt;index&gt;</span>true<span class="tag">&lt;/index&gt;</span>
    <span class="tag">&lt;manifest&gt;</span>
      <span class="tag">&lt;addDefaultImplementationEntries&gt;</span>true<span class="tag">&lt;/addDefaultImplementationEntries&gt;</span>
      <span class="tag">&lt;addDefaultSpecificationEntries&gt;</span>true<span class="tag">&lt;/addDefaultSpecificationEntries&gt;</span>
    <span class="tag">&lt;/manifest&gt;</span>
    <span class="tag">&lt;manifestEntries&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>${project.artifactId}<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>${project.groupId}<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;version&gt;</span>${project.version}<span class="tag">&lt;/version&gt;</span>
      <span class="tag">&lt;buildNumber&gt;</span>${buildNumber}<span class="tag">&lt;/buildNumber&gt;</span>
      <span class="tag">&lt;scmBranch&gt;</span>${scmBranch}<span class="tag">&lt;/scmBranch&gt;</span>
    <span class="tag">&lt;/manifestEntries&gt;</span>
  <span class="tag">&lt;/archive&gt;</span>
<span class="tag">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What should be defined in such a parent?
<a href="http://stackoverflow.com/questions/24409889/where-should-i-keep-my-companys-parent-pom" class="bare">http://stackoverflow.com/questions/24409889/where-should-i-keep-my-companys-parent-pom</a></p>
</div>
<div class="paragraph">
<p>Style Guide for POM files.
SortPom (default style for pom files)</p>
</div>
<div class="paragraph">
<p>Why you should never use version ranges?</p>
</div>
<div class="paragraph">
<p>No different dependencies via profiles! Why ? The consequences?</p>
</div>
<div class="paragraph">
<p>Naming modules based on their artifactId&#8217;s.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t do this:
<a href="http://stackoverflow.com/questions/23901560/how-to-handle-different-dependencies-requirements-for-web-servers-in-pom-xml" class="bare">http://stackoverflow.com/questions/23901560/how-to-handle-different-dependencies-requirements-for-web-servers-in-pom-xml</a></p>
</div>
<div class="paragraph">
<p>Ideas like this:
<a href="http://developer-blog.cloudbees.com/2013/03/playing-trade-offs-with-maven.html" class="bare">http://developer-blog.cloudbees.com/2013/03/playing-trade-offs-with-maven.html</a></p>
</div>
<div class="paragraph">
<p>What is a good solution for such kind of questions:
<a href="http://stackoverflow.com/questions/24248873/maven-package-resources-with-classes" class="bare">http://stackoverflow.com/questions/24248873/maven-package-resources-with-classes</a>
Answer: create a mod-core, mod-war and that&#8217;s it?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_for_different_environments"><a class="link" href="#_building_for_different_environments">31. Building for different Environments</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You are often face with the problem having different environments like
dev, test, prod this is just a simple example how real life is.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_do_good_integration_tests_for_maven_plugins"><a class="link" href="#_how_to_do_good_integration_tests_for_maven_plugins">32. How to do good integration tests for maven plugins</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the final tests should be to clean your local repository
and start your integration tests of your plugin from scratch</p>
</div>
<div class="paragraph">
<p>rm -fr $HOME/.m2/repository
mvn -Prun-its clean verify</p>
</div>
<div class="paragraph">
<p>This should work without any problem.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nexus"><a class="link" href="#_nexus">33. Nexus</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>why the order of the repositories does really matter&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_branching_strategies"><a class="link" href="#_branching_strategies">34. Branching Strategies</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/24420474/do-you-really-need-to-version-the-trunk-of-a-maven-project" class="bare">http://stackoverflow.com/questions/24420474/do-you-really-need-to-version-the-trunk-of-a-maven-project</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/lewisd32/lint-maven-plugin" class="bare">https://github.com/lewisd32/lint-maven-plugin</a></p>
</div>
</div>
</div>
<h1 id="_exceptions_from_best_practices" class="sect0"><a class="link" href="#_exceptions_from_best_practices">Exceptions from Best Practices</a></h1>
<div class="sect1">
<h2 id="_layout"><a class="link" href="#_layout">35. Layout</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes people to say I don&#8217;t want to follow
best practices. For example using a different
directory layout? You can do that if you really need that,
but it depends&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>The first question I ask in such a situation is: Why do you like to
do that? What kind of problem are you trying to solve?</p>
</div>
</div>
</div>
<h1 id="_the_sites" class="sect0"><a class="link" href="#_the_sites">The Sites</a></h1>
<div class="openblock partintro">
<div class="content">
generating sites with Maven
The maven <code>site</code> life cycle.
</div>
</div>
<div class="sect1">
<h2 id="_maven_site_plugin"><a class="link" href="#_maven_site_plugin">36. Maven Site Plugin</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Configure the site?</p>
</li>
<li>
<p>What is needed?</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_profiles_in_maven"><a class="link" href="#_profiles_in_maven">37. Profiles in Maven</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Why and how to use Profiles.</p>
</div>
<div class="paragraph">
<p>Typical scenarios where to use profiles.</p>
</div>
<div class="paragraph">
<p>CI build (jenkins) etc.</p>
</div>
<div class="paragraph">
<p><a href="https://blog.soebes.de/blog/2013/11/09/why-is-it-bad-to-activate-slash-deactive-modules-by-profiles-in-maven/">Don&#8217;t use profiles to activate/deactive modules</a></p>
</div>
<div class="paragraph">
<p>Situations where you shouldn&#8217;t use profiles.</p>
</div>
</div>
</div>
<h1 id="_different_environments" class="sect0"><a class="link" href="#_different_environments">Different Environments</a></h1>
<div class="sect1">
<h2 id="_overview_10"><a class="link" href="#_overview_10">38. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the wild a usual problem occurs having configurations for
different environments like development, test, q&amp;a and production.
The differences between those environments are most likely
things like username, password for an database connection or may
be other things.</p>
</div>
<div class="paragraph">
<p>I have to admit that the example with the database connection is not the
best, cause this would imply having such critical information within
your application which you never should do in real life. This is chosen
only as an example for information which are definitively different from
environment to environment.</p>
</div>
<div class="paragraph">
<p>Let us make a more realistic example out of this to get more relationship
to the real world. So we create an examples which consists of several files
which are different from environment to environment.</p>
</div>
<div class="paragraph">
<p>get the whole lecture of GearConf2013</p>
</div>
<div class="paragraph">
<p>How to build for prod, dev, qa environment etc.</p>
</div>
<div class="paragraph">
<p><a href="http://blog.soebes.de/blog/2011/07/29/maven-configuration-for-multipe-environments/" class="bare">http://blog.soebes.de/blog/2011/07/29/maven-configuration-for-multipe-environments/</a></p>
</div>
<div class="paragraph">
<p><a href="http://blog.soebes.de/blog/2011/08/11/maven-configuration-for-multipe-environments-ii/" class="bare">http://blog.soebes.de/blog/2011/08/11/maven-configuration-for-multipe-environments-ii/</a></p>
</div>
<div class="sect2">
<h3 id="_the_solutions"><a class="link" href="#_the_solutions">38.1. The Solutions</a></h3>

</div>
<div class="sect2">
<h3 id="_the_obvious_solution"><a class="link" href="#_the_obvious_solution">38.2. The Obvious Solution</a></h3>
<div class="paragraph">
<p>Many people using Maven would suggest to use profiles for such
purposes. So you have different profiles which define the filtered
values for the appropriate environments and you will build the
appropriate artifacts.</p>
</div>
<div class="paragraph">
<p>This will result in calling Maven with the following commands to
produce artifacts for the different environments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn -Pdevelopment clean package
mvn -Ptest clean package
mvn -Pqa clean package
mvn -Pproduction clean package</pre>
</div>
</div>
<div class="paragraph">
<p>But unfortunately this approach has one big drawback. How would you
call Maven if you need the artifacts for development, test, q&amp;a and
production? So your answer might look like this?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn -Pdevelopment,test,qa,production clean package</pre>
</div>
</div>
<div class="paragraph">
<p>The disadvantage of this approach is that you have to give all these
parameters every time you call Maven maybe in several permutations
depending for which environment you would like to build. What does in
practice happen?  You simple forget them. Have you remembered to change
the configuration of your CI solution? Have you informed all your
team mates? I bet you missed something.</p>
</div>
<div class="paragraph">
<p>So solution should work by simply calling Maven like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean package</pre>
</div>
</div>
<div class="paragraph">
<p>So in conclusion this approach is not ideal.</p>
</div>
<div class="paragraph">
<p>Picture of the application ?</p>
</div>
<div class="paragraph">
<p>What are the drawbacks of such a solution?</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_next"><a class="link" href="#_the_next">38.3. The next</a></h3>

</div>
</div>
</div>
<h1 id="_example_appendix" class="sect0"><a class="link" href="#_example_appendix">Example Appendix</a></h1>
<div class="openblock partintro">
<div class="content">
One or more optional appendixes go here at section level 1.
</div>
</div>
<div class="sect1">
<h2 id="_appendix_sub_section"><a class="link" href="#_appendix_sub_section">Appendix Sub-section</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sub-section body.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_glossary"><a class="link" href="#_example_glossary">Example Glossary</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Glossaries are optional. Glossaries entries are an example of a style
of AsciiDoc labeled lists.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_colophon"><a class="link" href="#_example_colophon">Example Colophon</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Text at the end of a book describing facts about its production.</p>
</div>
<div class="paragraph">
<p>This books has been created by using the following tools:
<a href="http://git-scm.com">Git</a>, <a href="http://asciidoc.org/">AsciiDoc</a> and
<a href="http://www.vim.org">Vim</a> for text editing.</p>
</div>
</div>
</div>
<h1 id="_example_bibliography" class="sect0"><a class="link" href="#_example_bibliography">Example Bibliography</a></h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The bibliography list is a style of AsciiDoc bulleted list.</p>
</div>
<div class="ulist bibliography">
<div class="title">Books</div>
<ul class="bibliography">
<li>
<p><a id="taoup"></a>[taoup] Eric Steven Raymond. 'The Art of Unix
Programming'. Addison-Wesley. ISBN 0-13-142901-9.</p>
</li>
<li>
<p><a id="walsh-muellner"></a>[walsh-muellner] Norman Walsh &amp; Leonard Muellner.
'DocBook - The Definitive Guide'. O&#8217;Reilly &amp; Associates. 1999.
ISBN 1-56592-580-7.</p>
</li>
</ul>
</div>
<div class="ulist bibliography">
<div class="title">Articles</div>
<ul class="bibliography">
<li>
<p><a id="abc2003"></a>[abc2003] Gall Anonim. 'An article', Whatever. 2003.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_index"><a class="link" href="#_example_index">Example Index</a></h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1.0-SNAPSHOT<br>
Last updated 2023-02-18 22:26:08 UTC
</div>
</div>
</body>
</html>